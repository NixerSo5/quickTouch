<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag and Drop Example</title>
</head>
<body>
<h1>Drag and Drop a Shortcut Here</h1>
<div id="drop-area" style="width: 400px; height:400px; border: 2px dashed #ccc;color: red"></div>

<div id="file-info"></div>
<div>
    我们正在使用 Node.js <span id="node-version"></span>,
    Chromium <span id="chrome-version"></span>,
    和 Electron <span id="electron-version"></span>.
    <button id="openEdgeButton">启动 Edge 浏览器</button>
</div>
<script src="./renderer.js"></script>
<script>
    const dropArea = document.getElementById('drop-area');
    const fileInfo = document.getElementById('file-info');

    document.addEventListener('dragover', (event) => {
        event.preventDefault();
        event.dataTransfer.dropEffect = 'copy'; // 显示允许拖动的指示
        dropArea.classList.add('dragover');
    });

    document.addEventListener('dragleave', () => {
        dropArea.classList.remove('dragover');
    });

    document.addEventListener('drop', (event) => {
        event.preventDefault();
        dropArea.classList.remove('dragover');
        const files = event.dataTransfer.files;
        if (files.length > 0) {
            const filePath = files[0].path;
            window.electron.getFileIcon(filePath, (iconDataUrl) => {
                const img = new Image();
                img.src = iconDataUrl;
                fileInfo.innerHTML = ''; // 清空之前的内容
                fileInfo.appendChild(img);
            });
        }
        // window.electron.ipcRenderer.send('file-dropped', files);
    });
</script>
</body>
</html>
